% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/aov_df.R
\name{aov_df}
\alias{aov_df}
\title{ANOVA Summary with agricolae-based Posthoc Comparison}
\usage{
aov_df(
  data,
  dv_var = NULL,
  iv_vars = NULL,
  grp_mean = TRUE,
  posthoc = "lsd",
  p.adj = NULL,
  sig = TRUE,
  alpha_posthoc = 0.05,
  digits = 2
)
}
\arguments{
\item{data}{A data frame containing the data to analyze.}

\item{dv_var}{A string indicating the name of the dependent variable (e.g., "mpg").}

\item{iv_vars}{A character vector of independent variable names (e.g., c("group", "gender")).}

\item{grp_mean}{Logical. Whether to include group means in the output (default = TRUE).}

\item{posthoc}{Posthoc test method. One of "lsd", "duncan", "scheffe", or "tukey".}

\item{p.adj}{Method for p-value adjustment in ANOVA. If NULL, it is set automatically based on the posthoc method.}

\item{sig}{Logical. Whether to include significance symbols (e.g., "***", "**", "*", "ns") in the output.}

\item{alpha_posthoc}{Significance level for posthoc tests (default = 0.05).}

\item{digits}{Number of digits to round the output values (default = 2).}
}
\value{
A tibble with the following columns:
\describe{
  \item{iv}{Independent variable name}
  \item{dv}{Dependent variable name}
  \item{level}{Levels of the independent variable}
  \item{Mean}{Group mean (optional)}
  \item{POSTHOC}{Group classification from posthoc test (e.g., "a", "b", "ab")}
  \item{df1, df2}{Degrees of freedom for ANOVA}
  \item{F_value}{F statistic from ANOVA}
  \item{p_value}{Adjusted p-value from ANOVA}
  \item{sig}{Significance symbols (optional)}
}
}
\description{
Performs one-way ANOVA for the specified dependent variable across one or more categorical independent variables.
Supports posthoc comparison using methods from the `agricolae` package: `"lsd"`, `"duncan"`, `"scheffe"`, and `"tukey"`.
The resulting ANOVA p-value is optionally adjusted using the `p.adjust()` method.
}
\examples{
# Load packages
library(dplyr)
library(agricolae)
library(broom)
library(tibble)

# Load example data
data("mtcars")
mtcars$cyl <- as.factor(mtcars$cyl)

# Base ANOVA model
aov_model <- aov(mpg ~ cyl, data = mtcars)

# 1) LSD
cat("===== LSD (custom function) =====\n")
print(aov_df(mtcars, dv_var = "mpg", iv_vars = "cyl", posthoc = "lsd"))
cat("===== LSD (agricolae) =====\n")
print(agricolae::LSD.test(aov_model, "cyl", console = FALSE)$groups)

# 2) Duncan
cat("===== Duncan (custom function) =====\n")
print(aov_df(mtcars, dv_var = "mpg", iv_vars = "cyl", posthoc = "duncan"))
cat("===== Duncan (agricolae) =====\n")
print(agricolae::duncan.test(aov_model, "cyl", console = FALSE)$groups)

# 3) Scheffe
cat("===== Scheffe (custom function) =====\n")
print(aov_df(mtcars, dv_var = "mpg", iv_vars = "cyl", posthoc = "scheffe"))
cat("===== Scheffe (agricolae) =====\n")
print(agricolae::scheffe.test(aov_model, "cyl", console = FALSE)$groups)

# 4) Tukey
cat("===== Tukey (custom function) =====\n")
print(aov_df(mtcars, dv_var = "mpg", iv_vars = "cyl", posthoc = "tukey"))
cat("===== Tukey (agricolae) =====\n")
print(agricolae::HSD.test(aov_model, "cyl", console = FALSE)$groups)

}
